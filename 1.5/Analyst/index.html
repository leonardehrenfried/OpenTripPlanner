<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://docs.opentripplanner.org/1.5/Analyst/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Analyst - OpenTripPlanner</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css">
        <link href="../css/version-select.css" rel="stylesheet">

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">OpenTripPlanner</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Governance/" class="dropdown-item">Governance</a>
</li>
                                    
<li>
    <a href="../History/" class="dropdown-item">History</a>
</li>
                                    
<li>
    <a href="../Deployments/" class="dropdown-item">Deployments</a>
</li>
                                    
<li>
    <a href="../Changelog/" class="dropdown-item">Changelog</a>
</li>
                                    
<li>
    <a href="../Visual-Identity/" class="dropdown-item">Visual Identity</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Tutorials <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Basic-Tutorial/" class="dropdown-item">Basic Tutorial</a>
</li>
                                    
<li>
    <a href="../Intermediate-Tutorial/" class="dropdown-item">Intermediate Tutorial</a>
</li>
                                    
<li>
    <a href="../External-Tutorials/" class="dropdown-item">External Tutorials</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Usage Guide <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Getting-OTP/" class="dropdown-item">Getting OTP</a>
</li>
                                    
<li>
    <a href="../Configuration/" class="dropdown-item">Configuration</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Analyst</a>
</li>
                                    
<li>
    <a href="../Scripting/" class="dropdown-item">Scripting</a>
</li>
                                    
<li>
    <a href="../Security/" class="dropdown-item">Security</a>
</li>
                                    
<li>
    <a href="../Troubleshooting-Routing/" class="dropdown-item">Troubleshooting</a>
</li>
                                    
<li>
    <a href="../Flex/" class="dropdown-item">GTFS-Flex Routing</a>
</li>
                                    
<li>
    <a href="../Surface/" class="dropdown-item">One-to-many Travel Times</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../Developers-Guide/" class="dropdown-item">Developers' Guide</a>
</li>
                                    
<li>
    <a href="../Architecture/" class="dropdown-item">Architecture</a>
</li>
                                    
<li>
    <a href="../Localization/" class="dropdown-item">Localization</a>
</li>
                                    
<li>
    <a href="../Bibliography/" class="dropdown-item">Bibliography</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                            <li class="nav-item">
                                <a rel="prev" href="../Configuration/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../Scripting/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="http://github.com/opentripplanner/OpenTripPlanner/edit/master/docs/Analyst.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#spatial-analysis-concepts-and-usage" class="nav-link">Spatial Analysis Concepts and Usage</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#pointsets" class="nav-link">PointSets</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="spatial-analysis-concepts-and-usage">Spatial Analysis Concepts and Usage</h1>
<h2 id="pointsets">PointSets</h2>
<p>PointSets are named collections of geographic places that serve as sets of origins or destinations in one-to-many
or many-to-many requests. OTP can load PointSets from GeoJSON or CSV files.</p>
<p>The following is an example PointSet (two blocks from the 2010 US census) in the GeoJSON format:</p>
<pre><code class="language-JSON">{
  &quot;type&quot;: &quot;FeatureCollection&quot;,
  &quot;properties&quot;: {
    &quot;id&quot;: &quot;uniqueID&quot;,
    &quot;label&quot;: &quot;A short label&quot;,
    &quot;description&quot;: &quot;A longer, detailed description of the PointSet as a whole.&quot;,
    &quot;schema&quot;: {
      &quot;pop10&quot;: {
        &quot;style&quot;: {},
        &quot;label&quot;: &quot;population&quot;
      },
      &quot;housing10&quot;: {
        &quot;style&quot;: {},
        &quot;label&quot;: &quot;housing units&quot;
      }
    }
  },
  &quot;features&quot;: [
    {
      &quot;properties&quot;: {
        &quot;structured&quot;: {
          &quot;pop10&quot;: 166,
          &quot;housing10&quot;: 64
        }
      },
      &quot;geometry&quot;: {
        &quot;coordinates&quot;: [
          -71.13364978767969,
          42.345030084059864
        ],
        &quot;type&quot;: &quot;Point&quot;
      },
      &quot;type&quot;: &quot;Feature&quot;,
      &quot;id&quot;: &quot;tiny_blocks.1&quot;
    },
    {
      &quot;properties&quot;: {
        &quot;structured&quot;: {
          &quot;.pop10&quot;: 76,
          &quot;.housing10&quot;: 34
        }
      },
      &quot;geometry&quot;: {
        &quot;coordinates&quot;: [
          -71.12924764173955,
          42.34592621836178
        ],
        &quot;type&quot;: &quot;Point&quot;
      },
      &quot;type&quot;: &quot;Feature&quot;,
      &quot;id&quot;: &quot;tiny_blocks.2&quot;
    }
  ],
}
</code></pre>
<p>A GeoJSON PointSet is a valid GeoJSON feature collection containing point or polygon features.
Each feature has a special property called "structured" that contains origin or destination opportunity counts
for that location. The features in a PointSet may have other properties of any kind you like (which OTP will ignore),
but the structured properties must have integer numeric values. Each feature in this particular PointSet
contains a count of people (pop10) and a count of housing units (housing10). Conceptually every feature
in the collection has the same set of structured properties, but if one is omitted then its value is assumed to be zero.
For example, if one feature has a structured property field called "population" with a value of 10, another feature with
no such field will be assumed to have a population of zero.</p>
<p>The feature collection as a whole can (optionally) have id, label, description, and schema properties.The schema provides
additional information about how to display the structured properties that appear in the features, including labels
color, and other styling information.</p>
<p>This is the same example PointSet in the CSV format:</p>
<pre><code class="language-CSV">lat,lon,pop10,housing10
42.345030084059864,-71.13364978767969,166,64
42.34592621836178,-71.12924764173955,76,34
</code></pre>
<p>Note that while this format is much more compact, it contains no metadata and styling information for the
structured properties or the data set as a whole.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../js/version-select.js" defer></script>

        <div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
